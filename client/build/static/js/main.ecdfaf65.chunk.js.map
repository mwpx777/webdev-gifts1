{"version":3,"sources":["utils/actions.js","utils/reducers.js","utils/GlobalState.js","utils/helpers.js","components/ProductItem/index.js","utils/queries.js","assets/spinner.gif","components/ProductList/index.js","components/CategoryMenu/index.js","components/CartItem/index.js","utils/auth.js","components/Cart/index.js","pages/Home.js","pages/Detail.js","components/Jumbotron/index.js","pages/NoMatch.js","utils/mutations.js","pages/Login.js","pages/Signup.js","assets/WebDev logo.png","components/Nav/index.js","pages/Success.js","pages/Shipping.js","components/Footer/index.js","assets/logo192.png","pages/OrderHistory.js","App.js","serviceWorker.js","index.js"],"names":["UPDATE_PRODUCTS","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","UPDATE_CART_QUANTITY","TOGGLE_CART","reducer","state","action","type","products","categories","currentCategory","cartOpen","cart","product","newState","filter","_id","length","map","purchaseQuantity","StoreContext","createContext","Provider","StoreProvider","value","initialState","props","useReducer","dispatch","useStoreContext","useContext","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","oncomplete","close","ProductItem","item","image","name","price","className","id","to","src","alt","QUERY_PRODUCTS","gql","QUERY_CATEGORIES","QUERY_CHECKOUT","QUERY_USER","ProductList","useQuery","loading","data","useEffect","forEach","then","category","spinner","CategoryMenu","CartItem","size","placeholder","onChange","target","parseInt","onClick","removeFromCart","role","aria-label","decode","this","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","stripePromise","loadStripe","Cart","useLazyQuery","getCheckout","toggleCart","res","redirectToCheckout","sessionId","checkout","session","a","getCart","sum","toFixed","calculateTotal","Auth","loggedIn","productIds","i","push","variables","Home","Detail","useParams","useState","currentProduct","setCurrentProduct","setValue","find","width","itemInCart","cartItem","description","Jumbotron","children","style","height","clear","paddingTop","textAlign","NoMatch","LOGIN","ADD_ORDER","ADD_USER","Login","emai","password","formState","setFormState","useMutation","login","error","handleFormSubmit","event","preventDefault","email","mutationResponse","handleChange","onSubmit","htmlFor","Signup","addUser","firstName","lastName","Nav","setCategory","categoryData","onscroll","document","body","scrollTop","documentElement","getElementById","setAttribute","handleClick","icon","classList","contains","href","logout","Success","addOrder","setTimeout","saveOrder","Shipping","Footer","rel","OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","client","ApolloClient","operation","setContext","headers","authorization","uri","App","ApolloProvider","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","URL","process","origin","addEventListener","fetch","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"qQAEaA,EAAiB,kBACjBC,EAAoB,oBACpBC,EAA0B,0BAC1BC,EAAc,cACdC,EAAuB,uBACvBC,EAAmB,mBACnBC,EAAuB,uBAEvBC,EAAc,cCMdC,EAAU,SAACC,EAAOC,GAC3B,OAAOA,EAAOC,MACV,KAAKX,EACD,kCACOS,GADP,IAEIG,SAAS,YAAKF,EAAOE,YAE7B,KAAKX,EACD,kCACOQ,GADP,IAEII,WAAW,YAAKH,EAAOG,cAE/B,KAAKX,EACD,kCACOO,GADP,IAEIK,gBAAiBJ,EAAOI,kBAEhC,KAAKX,EACD,kCACOM,GADP,IAEIM,UAAU,EACVC,KAAK,GAAD,mBAAMP,EAAMO,MAAZ,CAAkBN,EAAOO,YAErC,KAAKb,EACD,kCACOK,GADP,IAEIO,KAAK,GAAD,mBAAKP,EAAMO,MAAX,YAAoBN,EAAOE,aAEvC,KAAKP,EACG,IAAIa,EAAWT,EAAMO,KAAKG,QAAO,SAAAF,GAE7B,OAAOA,EAAQG,MAAQV,EAAOU,OAGlC,OAAO,2BACAX,GADP,IAEIM,SAAUG,EAASG,OAAS,EAC5BL,KAAME,IAElB,KAAKZ,EACD,OAAO,2BACAG,GADP,IAEIM,UAAU,EACVC,KAAMP,EAAMO,KAAKM,KAAI,SAAAL,GAIjB,OAHGP,EAAOU,MAAQH,EAAQG,MACtBH,EAAQM,iBAAmBb,EAAOa,kBAE/BN,OAGnB,IDzDkB,aC0Dd,kCACOR,GADP,IAEIM,UAAU,EACVC,KAAM,KAEd,KAAKT,EACD,kCACOE,GADP,IAEIM,UAAWN,EAAMM,WAGzB,QACI,OAAON,I,WCzEbe,EAAeC,0BACdC,EAAYF,EAAZE,SAEDC,EAAgB,SAAC,GAA0B,EAAzBC,MAA0B,ID2EhBC,EC3EIC,EAAW,yBAC7C,GD0E8BD,EC1Ec,CACxCjB,SAAU,GACVI,KAAM,GACND,UAAU,EACVF,WAAY,GACZC,gBAAiB,IDsEdiB,qBAAWvB,EAASqB,IC3E3B,mBAAOpB,EAAP,KAAcuB,EAAd,KAOA,OAAO,cAACN,EAAD,aAAUE,MAAS,CAACnB,EAAOuB,IAAeF,KAK/CG,EAAkB,WACpB,OAAOC,qBAAWV,ICpBf,SAASW,EAAWC,EAAWC,EAAQC,GAC1C,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAE3B,IAGIC,EAAIC,EAAIC,EAHNC,EAAUC,OAAOC,UAAUC,KAAK,SAAU,GAMhDH,EAAQI,gBAAkB,SAAUC,GAClC,IAAMR,EAAKG,EAAQM,OAGnBT,EAAGU,kBAAkB,WAAY,CAAEC,QAAS,QAC5CX,EAAGU,kBAAkB,aAAc,CAAEC,QAAS,QAC9CX,EAAGU,kBAAkB,OAAQ,CAAEC,QAAS,SAI1CR,EAAQS,QAAU,SAAUJ,GAC1BK,QAAQC,IAAI,uBAIdX,EAAQY,UAAY,SAAUP,GAY5B,OAVAR,EAAKG,EAAQM,OAEbR,EAAKD,EAAGgB,YAAYtB,EAAW,aAE/BQ,EAAQD,EAAGgB,YAAYvB,GAEvBM,EAAGY,QAAU,SAAUJ,GACrBK,QAAQC,IAAI,QAASN,IAGfb,GACN,IAAK,MACHO,EAAMgB,IAAItB,GACVE,EAAQF,GACR,MACF,IAAK,MACH,IAAMuB,EAAMjB,EAAMkB,SAClBD,EAAIJ,UAAY,WACdjB,EAAQqB,EAAIV,SAEd,MACF,IAAK,SACHP,EAAMmB,OAAOzB,EAAOlB,KACpB,MACF,QACEmC,QAAQC,IAAI,mBAKhBb,EAAGqB,WAAa,WACdtB,EAAGuB,aAOI9B,QCDF+B,I,QAAAA,EAzDf,SAAqBC,GACjB,IACIC,EAIAD,EAJAC,MACAC,EAGAF,EAHAE,KACAjD,EAEA+C,EAFA/C,IACAkD,EACAH,EADAG,MAGJ,EAA0BrC,IAA1B,mBAAOxB,EAAP,KAuBA,OAvBA,KACiBA,EAATO,KAuBJ,sBAAKuD,UAAU,0BAA0BC,GAAG,mBAA5C,UACI,cAAC,IAAD,CAAMC,GAAE,oBAAerD,GAAvB,SACI,qBAAKsD,IAAG,kBAAaN,GAASO,IAAKN,EAAMG,GAAG,gBAEhD,qBAAKD,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,+BAAKF,EAAL,SAEJ,qBAAKE,UAAU,MAAf,SACI,oCAAOD,kB,gBChDtBM,EAAiBC,YAAH,6RAedC,EAAmBD,YAAH,8GAShBE,EAAiBF,YAAH,sJAQdG,EAAaH,YAAH,8ZCpCR,MAA0B,oCCoE1BI,MAzDf,WACI,MAA0BhD,IAA1B,mBAAOxB,EAAP,KAAcuB,EAAd,KACQlB,EAAoBL,EAApBK,gBACR,EAA0BoE,YAASN,GAA3BO,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,KA6BjB,OA3BAC,qBAAU,WACFD,GACApD,EAAS,CACLrB,KAAMX,EACNY,SAAUwE,EAAKxE,WAGnBwE,EAAKxE,SAAS0E,SAAQ,SAACrE,GACnBkB,EAAW,WAAY,MAAOlB,OAE1BkE,GACRhD,EAAW,WAAY,OAAOoD,MAAK,SAAC3E,GAChCoB,EAAS,CACLrB,KAAMX,EACNY,SAAUA,SAIvB,CAACwE,EAAMD,EAASnD,IAUf,sBAAKuC,UAAU,aAAf,UACK9D,EAAMG,SAASS,OACZ,qBAAKkD,UAAU,MAAf,UATHzD,EAGEL,EAAMG,SAASO,QAAO,SAAAF,GAAO,OAAIA,EAAQuE,SAASpE,MAAQN,KAFtDL,EAAMG,UASaU,KAAI,SAAAL,GAAO,OACzB,cAAC,EAAD,CAEIG,IAAKH,EAAQG,IACbgD,MAAOnD,EAAQmD,MACfC,KAAMpD,EAAQoD,KACdC,MAAOrD,EAAQqD,MACfC,UAAU,SACVC,GAAG,SANEvD,EAAQG,UAWzB,sDAEH+D,EACG,qBAAKT,IAAKe,EAASd,IAAI,YAAe,SCRvCe,I,yBCqBAC,EApEE,SAAC,GAAc,IAAZxB,EAAW,EAAXA,KAChB,EAAqBlC,IAAZD,EAAT,oBA+BA,OACI,sBAAKuC,UAAU,mBAAf,UACI,8BACI,qBAAKG,IAAG,kBAAaP,EAAKC,OAASO,IAAKR,EAAKE,KAAMG,GAAG,gBAE1D,gCAEI,sBAAKD,UAAU,UAAf,UAA0BJ,EAAKE,KAA/B,OACA,sBAAKE,UAAU,UAAf,cAA2BJ,EAAKG,SAEf,yBAAbH,EAAKE,MAA+C,2BAAZF,EAAKE,KAEjD,sBAAKE,UAAU,UAAf,mBAAgCJ,EAAKyB,QAC7B,KAER,gCACI,sBAAMrB,UAAU,UAAhB,wBACA,uBACAA,UAAU,UACN5D,KAAK,SACLkF,YAAY,IACZjE,MAAOuC,EAAK5C,iBACZuE,SA1CH,SAAC5C,GACd,IAAMtB,EAAQsB,EAAE6C,OAAOnE,MAGT,MAAVA,GACAI,EAAS,CACLrB,KAAMN,EACNe,IAAK+C,EAAK/C,MAEde,EAAW,OAAQ,SAAT,eAAwBgC,MAElCnC,EAAS,CACLrB,KAAML,EACNc,IAAK+C,EAAK/C,IACVG,iBAAkByE,SAASpE,KAE/BO,EAAW,OAAQ,MAAT,YAAC,eAAoBgC,GAArB,IAA2B5C,iBAAkByE,SAASpE,UA2BxD,sBACIqE,QAAS,kBArDN,SAAA9B,GACnBnC,EAAS,CACLrB,KAAMN,EACNe,IAAK+C,EAAK/C,MAGde,EAAW,OAAQ,SAAT,eAAwBgC,IA+CH+B,CAAe/B,IAC9BgC,KAAK,MACLC,aAAW,QACX5B,GAAG,WAJP,0C,wBCtBL,M,0FApCX,WACA,OAAO6B,YAAOC,KAAKC,c,sBAGnB,WACI,IAAMC,EAAOF,KAAKC,WAClB,QAASC,IAAUF,KAAKG,eAAeD,K,4BAG3C,SAAeA,GACX,IAEI,OADgBH,YAAOG,GACZE,IAAMC,KAAKC,MAAO,IAG/B,MAAOC,GACL,OAAO,K,sBAIf,WACI,OAAOC,aAAaC,QAAQ,c,mBAGhC,SAAMC,GACFF,aAAaG,QAAQ,WAAYD,GACjClE,OAAOoE,SAASC,OAAO,O,oBAG3B,WACIL,aAAaM,WAAW,YAExBtE,OAAOoE,SAASC,OAAO,S,+BCnBzBE,GAAgBC,aAAW,oCAwGlBC,GArGF,WAET,MAA0BtF,IAA1B,mBAAOxB,EAAP,KAAcuB,EAAd,KAIA,EAAgCwF,YAAazC,GAA7C,mBAAO0C,EAAP,KAAsBrC,EAAtB,KAAsBA,KAyBtB,SAASsC,IACL1F,EAAS,CAAErB,KAAMJ,IAGrB,GA3BA8E,qBAAU,WACFD,GACAiC,GAAc9B,MAAK,SAACoC,GAChBA,EAAIC,mBAAmB,CAAEC,UAAWzC,EAAK0C,SAASC,eAG3D,CAAC3C,IAEJC,qBAAU,WAAM,4CACZ,4BAAA2C,EAAA,sEACuB7F,EAAW,OAAQ,OAD1C,OACUnB,EADV,OAEIgB,EAAS,CACLrB,KAAMP,EACNQ,SAAS,YAAKI,KAJtB,4CADY,sBASPP,EAAMO,KAAKK,QATH,WAAD,wBAUR4G,KAEL,CAACxH,EAAMO,KAAKK,OAAQW,KAOlBvB,EAAMM,SACP,OACI,qBAAKyD,GAAG,mBAAkBD,UAAU,cAAc0B,QAASyB,EAA3D,SACI,sBACIvB,KAAK,MACLC,aAAW,QAFf,4BAgCZ,OACI,sBAAK7B,UAAU,OAAOC,GAAG,OAAzB,UACI,qBAAKD,UAAU,QAAQC,GAAG,YAAYyB,QAASyB,EAA/C,eACA,6BAAK,mBAAGnD,UAAU,UAAb,6BACJ9D,EAAMO,KAAKK,OACR,gCACKZ,EAAMO,KAAKM,KAAI,SAAA6C,GAAI,OAChB,cAAC,EAAD,CAAyBA,KAAMA,GAAhBA,EAAK/C,QAExB,sBAAKmD,UAAU,yBAAf,UACI,yBAAQA,UAAU,UAAlB,qBAnCpB,WACI,IAAI2D,EAAM,EAIV,OAHAzH,EAAMO,KAAKsE,SAAQ,SAAAnB,GACf+D,GAAO/D,EAAKG,MAAQH,EAAK5C,oBAEtB2G,EAAIC,QAAQ,GA8BkCC,MAEjCC,EAAKC,WACD,wBAAQ/D,UAAU,UAAU0B,QA9BxD,WACI,IAAMsC,EAAa,GAEnB9H,EAAMO,KAAKsE,SAAQ,SAAAnB,GACf,IAAK,IAAIqE,EAAI,EAAGA,EAAIrE,EAAK5C,iBAAkBiH,IACvCD,EAAWE,KAAKtE,EAAK/C,QAI7BqG,EAAY,CAERiB,UAAW,CAAE9H,SAAU2H,MAmBH,sBAIA,+DAKhB,4EC/FDI,GAXF,WACT,OACI,sBAAKpE,UAAU,YAAf,UAEI,cAAC,EAAD,IACA,cAAC,GAAD,QC4IGqE,OAxIf,WACI,MAA0B3G,IAA1B,mBAAOxB,EAAP,KAAcuB,EAAd,KACQwC,EAAOqE,cAAPrE,GACR,EAA4CsE,mBAAS,IAArD,mBAAOC,EAAP,KAAuBC,EAAvB,KACA,EAA0B9D,YAASN,GAA3BO,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,KACTxE,EAAmBH,EAAnBG,SAAUI,EAASP,EAATO,KAClB,EAA0B8H,mBAAS,IAAnC,mBAAOlH,EAAP,KAAcqH,EAAd,KA2EA,OAzCA5D,qBAAU,WAEFzE,EAASS,QACTkC,QAAQC,IAAK5C,EAASsI,MAAK,SAAAjI,GAAO,OAAIA,EAAQG,MAAQoD,MACtDwE,EAAkBpI,EAASsI,MAAK,SAAAjI,GAAO,OAAIA,EAAQG,MAAQoD,OAGpDY,GAEPpD,EAAS,CACLrB,KAAMX,EACNY,SAAUwE,EAAKxE,WAGnBwE,EAAKxE,SAAS0E,SAAQ,SAAArE,GAClBkB,EAAW,WAAY,MAAOlB,OAK1BkE,GACRhD,EAAW,WAAY,OAAOoD,MAAK,SAAC3E,GAChCoB,EAAS,CACLrB,KAAMX,EACNY,SAAUA,SAIvB,CAACA,EAAUwE,EAAMD,EAASnD,EAAUwC,IAcnC,qCACKuE,EACG,sBAAKxE,UAAU,kBAAf,UACI,cAAC,IAAD,CAAME,GAAG,IAAID,GAAG,WAAhB,SACI,sBAAMA,GAAG,OAAT,wCAER,sBAAKD,UAAU,aAAf,UACI,qBAAKA,UAAW,wBAAhB,SACA,qBAAKG,IAAG,kBAAaqE,EAAe3E,OAASO,IAAKoE,EAAe1E,KAAMG,GAAG,cAAcD,UAAU,wCAAwC4E,MAAM,WAGhJ,sBAAK5E,UAAW,QAAhB,UACI,oBAAIA,UAAW,+CAAf,SAA+DwE,EAAe1E,OAC9E,0CAAa0E,EAAezE,MAAO,OACvC,sBAAKC,UAAU,iCAAf,UAG0B,4BAAtBwE,EAAe3H,KAA2D,4BAAtB2H,EAAe3H,IAE3D,8BACI,yBAAQmD,UAAU,uBAAuB6B,aAAW,yBAAyBN,SA/BxF,SAAC5C,GAClBK,QAAQC,IAAIN,EAAE6C,OAAOnE,OAErBqH,EAAS/F,EAAE6C,OAAOnE,QA4B+G4C,GAAG,WAAxG,UACI,iDACA,wBAAQ5C,MAAM,QAAd,mBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,QAAd,mBACA,wBAAQA,MAAM,KAAd,qBAGR,KAEZ,qBAAK2C,UAAU,OAAf,SACA,wBAAQA,UAAU,iBAAiBC,GAAG,eAAeyB,QAzGnD,WACd,IAAMmD,EAAapI,EAAKkI,MAAK,SAACG,GAAD,OAAcA,EAASjI,MAAQoD,KAExD4E,GACApH,EAAS,CACLrB,KAAML,EACNc,IAAKoD,EAELjD,iBAAkByE,SAASoD,EAAW7H,kBAAoB,IAG9DY,EAAW,OAAQ,MAAT,YAAC,eACJiH,GADG,IAEN7H,iBAAkByE,SAASoD,EAAW7H,kBAAoB,OAG9DS,EAAS,CACLrB,KAAMR,EAENc,QAAQ,2BAAM8H,GAAP,IAAuBxH,iBAAkB,EAAGqE,KAAMhE,MAE7DO,EAAW,OAAQ,MAAT,YAAC,eAAoB4G,GAArB,IAAqCxH,iBAAkB,OAoFzD,8BAMA,gCACI,kDACJ,4BAAIwH,EAAeO,0BAMvB,KAEAnE,EAAU,qBAAKT,IAAKe,EAASd,IAAI,oBAAuB,KAE5D,cAAC,GAAD,QCpIG4E,I,SAAAA,GAXf,YAAkC,IAAbC,EAAY,EAAZA,SACjB,OACI,qBACIC,MAAO,CAAEC,OAAQ,IAAKC,MAAO,OAAQC,WAAY,IAAKC,UAAW,UADrE,SAEKL,KCWEM,GAbC,WACZ,OACI,8BACI,eAAC,GAAD,WACI,uDACA,6BACI,sBAAM3D,KAAK,MAAMC,aAAW,eAA5B,kC,kBCRP2D,GAAQlF,YAAH,0OAWLmF,GAAYnF,YAAH,uYAkBToF,GAAWpF,YAAH,iUCmDNqF,OA3Ef,SAAepI,GACX,MAAkCgH,mBAAS,CAAEqB,KAAM,GAAIC,SAAU,KAAjE,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA2BC,aAAYR,IAAvC,mBAAOS,EAAP,KAAgBC,EAAhB,KAAgBA,MAEVC,EAAgB,uCAAG,WAAMC,GAAN,iBAAA3C,EAAA,6DACrB2C,EAAMC,iBADe,kBAGcJ,EAAM,CAAE9B,UAAW,CAAEmC,MAAOR,EAAUQ,MAAOT,SAAUC,EAAUD,YAH/E,OAGXU,EAHW,OAIXtE,EAAQsE,EAAiB1F,KAAKoF,MAAMhE,MAC1C6B,EAAKmC,MAAMhE,GALM,gDAOjBjD,QAAQC,IAAR,MAPiB,yDAAH,sDAWhBuH,EAAe,SAAAJ,GACjB,MAAwBA,EAAM5E,OAAtB1B,EAAR,EAAQA,KAAMzC,EAAd,EAAcA,MACd0I,EAAa,2BACND,GADK,mBACOhG,EAAOzC,MAI9B,OACI,mCAII,sBAAK2C,UAAU,iBAAiBC,GAAG,WAAnC,UACI,qBAAKD,UAAU,cAAf,SACI,0CAEJ,qBAAKA,UAAU,YAAf,SACI,uBAAMyG,SAAUN,EAAhB,UACI,sBAAKnG,UAAU,WAAWC,GAAG,cAA7B,UACI,uBAAOyG,QAAQ,QAAf,4BACA,uBAEI1G,UAAU,QACVF,KAAK,QACL1D,KAAK,QACL6D,GAAG,QACHsB,SAAUiF,OAElB,sBAAKxG,UAAU,WAAWC,GAAG,cAA7B,UACI,uBAAOyG,QAAQ,MAAf,wBACA,uBAEI1G,UAAU,QACVF,KAAK,WACL1D,KAAK,WACL6D,GAAG,WACHsB,SAAUiF,OAGdN,EACI,8BACI,mBAAGlG,UAAU,aAAb,sDACK,KAEjB,qBAAKA,UAAU,oBAAf,SACI,wBAAQ5D,KAAK,SAAS6D,GAAG,YAAzB,sBAIJ,mCCwBT0G,OAxFf,SAAgBpJ,GACZ,MAAkCgH,mBAAS,CAAC+B,MAAO,GAAIT,SAAU,KAAjE,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAkBC,aAAYN,IAAvBkB,EAAP,oBAEMT,EAAgB,uCAAG,WAAMC,GAAN,iBAAA3C,EAAA,6DACrB2C,EAAMC,iBADe,SAEUO,EAAQ,CACnCzC,UAAW,CACPmC,MAAOR,EAAUQ,MAAOT,SAAUC,EAAUD,SAC5CgB,UAAWf,EAAUe,UAAWC,SAAUhB,EAAUgB,YALvC,OAEfP,EAFe,OAQftE,EAAOsE,EAAiB1F,KAAK+F,QAAQ3E,MAC3C6B,EAAKmC,MAAMhE,GATU,2CAAH,sDAYhBuE,EAAe,SAAAJ,GACjB,MAAsBA,EAAM5E,OAArB1B,EAAP,EAAOA,KAAMzC,EAAb,EAAaA,MACb0I,EAAa,2BACND,GADK,mBACOhG,EAAOzC,MAI9B,OACI,mCAIA,sBAAK2C,UAAU,iBAAgBC,GAAG,WAAlC,UAEI,qBAAKD,UAAU,cAAf,SACA,0CAEA,qBAAKA,UAAU,YAAf,SACA,uBAAMyG,SAAUN,EAAhB,UACI,sBAAKnG,UAAU,YAAYC,GAAG,cAA9B,UACI,uBAAOyG,QAAQ,YAAf,0BACA,uBAEA1G,UAAU,QACVF,KAAK,YACL1D,KAAK,YACL6D,GAAG,YACHsB,SAAUiF,OAEd,sBAAKxG,UAAU,WAAWC,GAAG,cAA7B,UACI,uBAAOyG,QAAQ,WAAf,yBACA,uBAEA1G,UAAU,QACVF,KAAK,WACL1D,KAAK,WACL6D,GAAG,WACHsB,SAAUiF,OAEd,sBAAKxG,UAAU,YAAYC,GAAG,cAA9B,UACI,uBAAOyG,QAAQ,QAAf,qBACA,uBAEA1G,UAAU,QACVF,KAAK,QACL1D,KAAK,QACL6D,GAAG,QACHsB,SAAUiF,OAEd,sBAAKxG,UAAU,YAAYC,GAAG,cAA9B,UACI,uBAAOyG,QAAQ,YAAf,wBACA,uBAEA1G,UAAU,QACVF,KAAK,WACL1D,KAAK,WACL6D,GAAG,MACHsB,SAAUiF,OAEd,qBAAKxG,UAAU,eAAf,SACI,wBAAQ5D,KAAK,SAAS6D,GAAG,YAAzB,iCCrFL,OAA0B,wCCgK1B8G,OAjJf,YAA8B,EAAfC,YAAgB,IAC3B,EAA0BtJ,IAA1B,mBAAOxB,EAAP,KAAcuB,EAAd,KACQnB,EAAeJ,EAAfI,WACR,EAAwCqE,YAASJ,GAAzCK,EAAR,EAAQA,QAAeqG,EAAvB,EAAiBpG,KAGjBtC,OAAO2I,SAAW,WAIXC,SAASC,KAAKC,UAAY,IAAMF,SAASG,gBAAgBD,UAAY,IACpEF,SAASI,eAAe,UAAUC,aAAa,QAAS,YACxDL,SAASI,eAAe,eAAeC,aAAa,QAAS,eAC7DL,SAASI,eAAe,YAAYC,aAAa,QAAS,iBAC1DL,SAASI,eAAe,eAAeC,aAAa,QAAS,iBAC7DL,SAASI,eAAe,UAAUC,aAAa,QAAS,iBACxDL,SAASI,eAAe,oBAAoBC,aAAa,QAAS,kBAElEL,SAASI,eAAe,UAAUC,aAAa,QAAS,gBACxDL,SAASI,eAAe,eAAeC,aAAa,QAAS,eAC7DL,SAASI,eAAe,YAAYC,aAAa,QAAS,YAC1DL,SAASI,eAAe,oBAAoBC,aAAa,QAAS,kBAK1E1G,qBAAU,WACFmG,GACAxJ,EAAS,CACLrB,KAAMV,EACNY,WAAY2K,EAAa3K,aAE7B2K,EAAa3K,WAAWyE,SAAQ,SAAAE,GAC5BrD,EAAW,aAAc,MAAOqD,OAE5BL,GACRhD,EAAW,aAAc,OAAOoD,MAAK,SAAA1E,GACjCmB,EAAS,CACLrB,KAAMV,EACNY,WAAYA,SAIzB,CAACsE,EAASqG,EAAcxJ,IAG3B,IAAMgK,EAAc,SAAAxH,GAChBxC,EAAS,CACLrB,KAAMT,EACNY,gBAAiB0D,KAqEzB,OACI,yBAAQA,GAAG,YAAYD,UAAU,YAAjC,UAEI,qBAAKC,GAAG,WAAUD,UAAU,WAA5B,SACI,eAAC,IAAD,CAAME,GAAG,IACLwB,QAAS,WApErBjE,EAAS,CACLrB,KAAKT,EACLY,gBAAiB,QAoENyD,UAAU,UAHjB,UAII,qBAAKG,IAAKuH,GAAM1H,UAAU,YAAYI,IAAI,eAAcH,GAAG,SAC3D,sBAAMD,UAAU,QAAhB,yCAKR,qBAAKC,GAAG,SAASyB,QAAS,WArEnByF,SAASI,eAAe,UAE3BI,UAAUC,SAAS,cACvB5I,QAAQC,IAAI,UACZkI,SAASI,eAAe,UAAUC,aAAa,QAAS,iBACxDL,SAASI,eAAe,eAAeC,aAAa,QAAS,iBAgEhBxH,UAAU,eAAvD,SA1DA8D,EAAKC,WAED,sBAAK9D,GAAG,cAAcD,UAAU,cAAhC,UAEM1D,EAAWS,KAAI,SAAA6C,GAAI,OACpB,yBAAQI,UAAU,YAA0B0B,QAAS,WAAO+F,EAAY7H,EAAK/C,MAA7E,cAAuF+C,EAAKE,OAAzDF,EAAK/C,QAEzC,cAAC,IAAD,CAAMmD,UAAU,YAAYE,GAAG,gBAA/B,SACI,wBAAQF,UAAU,YAAlB,gCAEA,wBAAQA,UAAU,YAAY6H,KAAK,IAAInG,QAAS,kBAAMoC,EAAKgE,UAA3D,uBAQR,sBAAK7H,GAAG,cAAcD,UAAU,cAAhC,UAEM1D,EAAWS,KAAI,SAAA6C,GAAI,OACzB,yBAAQI,UAAU,YAEd0B,QAAS,WACL+F,EAAY7H,EAAK/C,MAHzB,cAIS+C,EAAKE,OAHLF,EAAK/C,QAMV,wBAAQmD,UAAU,YAAlB,SACI,cAAC,IAAD,CAAMA,UAAU,YAAWE,GAAG,UAA9B,sBAIJ,wBAAQF,UAAU,YAAlB,SACI,cAAC,IAAD,CAAMA,UAAU,YAAYE,GAAG,SAA/B,0BA4BhB,qBAAKD,GAAG,SAASD,UAAU,SAA3B,SACI,oBAAGC,GAAG,cAAcD,UAAU,WAA9B,sFACA,uBADA,0EC/FG+H,OAjDf,WACI,MAAmB/B,aAAYP,IAAxBuC,EAAP,oBAyBA,OAvBAlH,qBAAU,WAAM,4CACZ,kCAAA2C,EAAA,sEACuB7F,EAAW,OAAQ,OAD1C,UACUnB,EADV,SAEUJ,EAAWI,EAAKM,KAAI,SAAA6C,GAAI,OAAIA,EAAK/C,QAE1BC,OAJjB,iCAK+BkL,EAAS,CAAE7D,UAAW,CAAE9H,cALvD,gBAKgBwE,EALhB,EAKgBA,KACYA,EAAKmH,SAAS3L,SAGtB0E,SAAQ,SAACnB,GACjBhC,EAAW,OAAQ,SAAUgC,MAVzC,QAeIqI,YAAW,WACP1J,OAAOoE,SAASC,OAAO,OACxB,KAjBP,6CADY,uBAAC,WAAD,wBAoBZsF,KACD,CAACF,IAGA,8BACI,cAAC,GAAD,UACI,qBAAKhI,UAAU,oBAAf,SACI,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACI,4CAEJ,qBAAKA,UAAU,MAAf,SACI,gEAEJ,qBAAKA,UAAU,MAAf,SACI,yFC4GbmI,GA5IE,aCeFC,OAzBf,WACI,OACI,wBAAQnI,GAAG,QAAQD,UAAU,YAA7B,SAEI,gCACI,qBAAKA,UAAU,MAAMC,GAAG,SAAxB,SAEI,mGAOJ,qBAAKD,UAAU,MAAMC,GAAG,QAAxB,SACI,oDAAsB,oBAAG4H,KAAK,uBAAuBrG,OAAO,SAAS6G,IAAI,aAAnD,UAAgE,qBAAKlI,ICnBhG,q/NDmB2GC,IAAI,aAAa8E,MAAO,CAAEN,MAAO,UAAjH,kBEqC3B0D,OAjDf,WACE,IACIC,EADI1H,EAASF,YAASF,GAAlBI,KAOR,OAJIA,IACF0H,EAAO1H,EAAK0H,MAIZ,mCACE,sBAAKvI,UAAU,iBAAf,UACE,cAAC,IAAD,CAAME,GAAG,IAAT,qCAICqI,EACC,qCACE,oDAAuBA,EAAK1B,UAA5B,IAAwC0B,EAAKzB,YAC5CyB,EAAKC,OAAOzL,KAAI,SAAC0L,GAAD,OACf,sBAAqBzI,UAAU,OAA/B,UACE,6BAAK,IAAIoC,KAAKX,SAASgH,EAAMC,eAAeC,uBAC5C,qBAAK3I,UAAU,WAAf,SACGyI,EAAMpM,SAASU,KAAI,WAA8B6L,GAA9B,IAAG/L,EAAH,EAAGA,IAAKgD,EAAR,EAAQA,MAAOC,EAAf,EAAeA,KAAMC,EAArB,EAAqBA,MAArB,OAClB,sBAAiBC,UAAU,0BAA3B,UACE,eAAC,IAAD,CAAME,GAAE,oBAAerD,GAAvB,UACE,qBACEuD,IAAKN,EACLG,GAAG,YACHE,IAAG,kBAAaN,KAElB,4BAAIC,OAEN,8BACE,qCAAQC,SAVF6I,UAJNH,EAAM5L,WAsBlB,WC5BNgM,GAAS,IAAIC,IAAa,CAC9BxK,QAAS,SAACyK,GACR,IAAM9G,EAAQM,aAAaC,QAAQ,YACnCuG,EAAUC,WAAW,CACnBC,QAAS,CACPC,cAAejH,EAAK,iBAAaA,GAAU,OAIjDkH,IAAK,aA+BQC,OA5Bf,WACE,OACE,cAACC,EAAA,EAAD,CAAgBR,OAAQA,GAAxB,SAEE,cAAC,IAAD,UACE,gCACE,eAAC,EAAD,WACE,cAAC,GAAD,IAEA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOS,OAAK,EAACC,KAAK,IAAIC,UAAWpF,KACjC,cAAC,IAAD,CAAOkF,OAAK,EAACC,KAAK,SAASC,UAAW7D,KACtC,cAAC,IAAD,CAAO2D,OAAK,EAACC,KAAK,UAAUC,UAAW7C,KACvC,cAAC,IAAD,CAAO2C,OAAK,EAACC,KAAK,WAAWC,UAAWzB,KACxC,cAAC,IAAD,CAAOuB,OAAK,EAACC,KAAK,gBAAgBC,UAAWlB,KAC7C,cAAC,IAAD,CAAOgB,OAAK,EAACC,KAAK,gBAAgBC,UAAWnF,KAC7C,cAAC,IAAD,CAAOiF,OAAK,EAACC,KAAK,YAAYC,UAAWrB,KACzC,cAAC,IAAD,CAAOqB,UAAWjE,WAGtB,cAAC,GAAD,YCxCJkE,GAAcC,QACW,cAA7BnL,OAAOoE,SAASgH,UAEa,UAA7BpL,OAAOoE,SAASgH,UAEhBpL,OAAOoE,SAASgH,SAASC,MACvB,2DAyCJ,SAASC,GAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACT9I,MAAK,SAAAmJ,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBnO,QACf8N,UAAUC,cAAcO,YAI1BxL,QAAQC,IACN,iHAKE8K,GAAUA,EAAOU,UACnBV,EAAOU,SAASN,KAMlBnL,QAAQC,IAAI,sCAGR8K,GAAUA,EAAOW,WACnBX,EAAOW,UAAUP,WAO5BQ,OAAM,SAAAzE,GACLlH,QAAQkH,MAAM,4CAA6CA,MC7FjE0E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEF3D,SAASI,eAAe,SDYnB,SAAkBwC,GACvB,GAEE,kBAAmBC,UAAW,CAI9B,GADkB,IAAIe,IAAIC,GAAwBzM,OAAOoE,SAASkF,MACpDoD,SAAW1M,OAAOoE,SAASsI,OAIvC,OAGF1M,OAAO2M,iBAAiB,QAAQ,WAC9B,IAAMpB,EAAK,UAAMkB,GAAN,sBAEPvB,KAgEV,SAAiCK,EAAOC,GAEtCoB,MAAMrB,EAAO,CACXb,QAAS,CAAE,iBAAkB,YAE5BjI,MAAK,SAAAoK,GAEJ,IAAMC,EAAcD,EAASnC,QAAQqC,IAAI,gBAEnB,MAApBF,EAASG,QACO,MAAfF,IAA8D,IAAvCA,EAAYG,QAAQ,cAG5CxB,UAAUC,cAAcwB,MAAMzK,MAAK,SAAAmJ,GACjCA,EAAauB,aAAa1K,MAAK,WAC7BzC,OAAOoE,SAASgJ,eAKpB9B,GAAgBC,EAAOC,MAG1BY,OAAM,WACL3L,QAAQC,IACN,oEAvFA2M,CAAwB9B,EAAOC,GAI/BC,UAAUC,cAAcwB,MAAMzK,MAAK,WACjChC,QAAQC,IACN,iHAMJ4K,GAAgBC,EAAOC,OCpC/BE,K","file":"static/js/main.ecdfaf65.chunk.js","sourcesContent":["// ACTIONS\r\n\r\nexport const UPDATE_PRODUCTS =\"UPDATE_PRODUCTS\";\r\nexport const UPDATE_CATEGORIES = \"UPDATE_CATEGORIES\";\r\nexport const UPDATE_CURRENT_CATEGORY = \"UPDATE_CURRENT_CATEGORY\";\r\nexport const ADD_TO_CART = \"ADD_TO_CART\";\r\nexport const ADD_MULTIPLE_TO_CART = \"ADD_MULTIPLE_TO_CART\";\r\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\r\nexport const UPDATE_CART_QUANTITY = \"UPDATE_CART_QUANTITY\";\r\nexport const CLEAR_CART = \"CLEAR_CART\";\r\nexport const TOGGLE_CART = \"TOGGLE_CART\";\r\n\r\n","// REDUCERS\r\n\r\nimport {\r\n    UPDATE_PRODUCTS,\r\n    UPDATE_CATEGORIES,\r\n    UPDATE_CURRENT_CATEGORY,\r\n    ADD_TO_CART,\r\n    ADD_MULTIPLE_TO_CART,\r\n    REMOVE_FROM_CART,\r\n    UPDATE_CART_QUANTITY,\r\n    CLEAR_CART,\r\n    TOGGLE_CART\r\n} from \"./actions\";\r\n\r\nimport {useReducer} from 'react'\r\n\r\nexport const reducer = (state, action) => {\r\n    switch(action.type){\r\n        case UPDATE_PRODUCTS:\r\n            return{\r\n                ...state,\r\n                products: [...action.products],\r\n            };\r\n        case UPDATE_CATEGORIES:\r\n            return{\r\n                ...state,\r\n                categories: [...action.categories],\r\n            };\r\n        case UPDATE_CURRENT_CATEGORY:\r\n            return{\r\n                ...state,\r\n                currentCategory: action.currentCategory\r\n            };\r\n        case ADD_TO_CART:\r\n            return{\r\n                ...state,\r\n                cartOpen: true,\r\n                cart: [...state.cart, action.product]\r\n            };\r\n        case ADD_MULTIPLE_TO_CART:\r\n            return{\r\n                ...state,\r\n                cart:[...state.cart, ...action.products]\r\n            };\r\n        case REMOVE_FROM_CART:\r\n                let newState = state.cart.filter(product => {\r\n                    // return all items in cart that are not the action._id\r\n                    return product._id !== action._id;\r\n                });\r\n    \r\n                return {\r\n                    ...state,\r\n                    cartOpen: newState.length > 0,\r\n                    cart: newState\r\n                };\r\n        case UPDATE_CART_QUANTITY:\r\n            return {\r\n                ...state,\r\n                cartOpen: true,\r\n                cart: state.cart.map(product => {\r\n                    if(action._id === product._id){\r\n                        product.purchaseQuantity = action.purchaseQuantity;\r\n                    }\r\n                    return product;\r\n                })\r\n            };\r\n        case CLEAR_CART:\r\n            return{\r\n                ...state,\r\n                cartOpen: false,\r\n                cart: []\r\n            };\r\n        case TOGGLE_CART:\r\n            return{\r\n                ...state,\r\n                cartOpen: !state.cartOpen\r\n            };\r\n        \r\n        default:\r\n            return state;\r\n    \r\n    }\r\n};\r\n\r\nexport function useProductReducer(initialState) {\r\n    return useReducer(reducer, initialState)\r\n};","// GLOBAL STATE\r\n\r\nimport React, {createContext, useContext} from 'react';\r\nimport {useProductReducer} from './reducers';\r\n\r\n// create new Context object\r\nconst StoreContext = createContext();\r\nconst {Provider} = StoreContext;\r\n\r\nconst StoreProvider = ({value= [], ...props}) => {\r\n    const [state, dispatch] = useProductReducer({\r\n        products: [],\r\n        cart: [],\r\n        cartOpen: false,\r\n        categories: [],\r\n        currentCategory: '',\r\n    });\r\n    return <Provider value = {[state, dispatch]} {...props} />\r\n};\r\n\r\n\r\n// when this function runs within a component, will receive [state, dispatch] date the StoreProvier manages\r\nconst useStoreContext = () => {\r\n    return useContext(StoreContext);\r\n};\r\n\r\nexport {StoreProvider, useStoreContext};","// HELPERS\n\n// open connection to idb passing in name `storeName` and perform transaction using method and object values \nexport function idbPromise(storeName, method, object) {\n    return new Promise((resolve, reject) => {\n      // open connection to database `shop-shop` with version 1\n      const request = window.indexedDB.open('webdev', 1);\n  \n      // create variables to hold referenece to the database, transaction (tx), and object store\n      let db, tx, store;\n  \n      // if version has changed(or first time using the database), run this method to create the 3 object stores\n      request.onupgradeneeded = function (e) {\n        const db = request.result;\n  \n        // create object store for each type of data and set \"primary\" key index to be `_id` of the data\n        db.createObjectStore('products', { keyPath: '_id' });\n        db.createObjectStore('categories', { keyPath: '_id' });\n        db.createObjectStore('cart', { keyPath: '_id' });\n      };\n  \n      // handle errors with connecting\n      request.onerror = function (e) {\n        console.log('There was an error');\n      };\n  \n      //  on database open success\n      request.onsuccess = function (e) {\n        // save a reference of the db to the `db` variable\n        db = request.result;\n        // open a transaction do whatever we pass into `storeName` (must match one of the objectStore names)\n        tx = db.transaction(storeName, 'readwrite');\n        // save a reference to that objectStore 'products', 'categories', 'cart'\n        store = tx.objectStore(storeName);\n  \n        db.onerror = function (e) {\n          console.log('error', e);\n        };\n  \n        switch (method) {\n          case 'put':\n            store.put(object);\n            resolve(object);\n            break;\n          case 'get':\n            const all = store.getAll();\n            all.onsuccess = function () {\n              resolve(all.result);\n            };\n            break;\n          case 'delete':\n            store.delete(object._id);\n            break;\n          default:\n            console.log('No valid method');\n            break;\n        };\n  \n        // when transaction is complete, close the connection\n        tx.oncomplete = function () {\n          db.close();\n        };\n      };\n  \n    });\n  }\n\n  export default idbPromise;","// PRODUCT ITEM\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n// import { pluralize } from '../../utils/helpers';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from '../../utils/actions';\nimport { idbPromise } from '../../utils/helpers';\n\nfunction ProductItem(item) {\n    const {\n        image,\n        name,\n        _id,\n        price,\n    } = item;\n\n    const [state, dispatch] = useStoreContext();\n    const { cart } = state;\n\n    const addToCart = () => {\n        const itemInCart = cart.find((cartItem) => cartItem._id === _id)\n        if (itemInCart) {\n            dispatch({\n                type: UPDATE_CART_QUANTITY,\n                _id: _id,\n                purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n            });\n            idbPromise('cart', 'put', {\n                ...itemInCart, purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n            });\n        } else {\n            dispatch({\n                type: ADD_TO_CART,\n                product: { ...item, purchaseQuantity: 1 }\n            });\n            idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\n        }\n    }\n\n    return (\n        <div className=\"card px-1 py-1 col-md-3\" id=\"hvr-float-shadow\">\n            <Link to={`/products/${_id}`}>\n                <img src={`/images/${image}`} alt={name} id=\"cardImage\" />\n            </Link>\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"cardTitle\">\n                        <div className=\"row\">\n                            <h5>{name} </h5>\n                        </div>\n                        <div className=\"row\">\n                            <h5> ${price}</h5>\n                        </div>\n                        {/* <div className=\"row\" id=\"btnRow\">\n                            <button id=\"addToCart\" className=\"hvr-bounce-in\" onClick={addToCart}>Add to cart!</button>\n                        </div> */}\n                    </div>\n                </div>\n            </div>\n</div>\n\n\n    );\n};\n\nexport default ProductItem;","// QUERIES\n\nimport gql from 'graphql-tag';\n\nexport const QUERY_PRODUCTS = gql `\n    query getProducts($category: ID) {\n        products(category: $category) {\n            _id\n            name\n            description\n            price\n            image\n            category {\n                _id\n            }\n        }\n    }\n`;\n\nexport const QUERY_CATEGORIES = gql `\n    {\n        categories {\n            _id\n            name\n        }\n    }\n`;\n\nexport const QUERY_CHECKOUT = gql `\n    query getCheckout($products: [ID]!){\n        checkout(products: $products) {\n            session\n        }\n    }\n`;\n\nexport const QUERY_USER = gql `\n    {\n        user{\n            firstName\n            lastName\n            orders{\n                _id\n                purchaseDate\n                products{\n                    _id\n                    name\n                    description\n                    price\n                    quantity\n                    image\n                }\n            }\n        }\n    }\n`;","export default __webpack_public_path__ + \"static/media/spinner.689d9a07.gif\";","// PRODUCT LIST\n\nimport React, { useEffect } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport ProductItem from '../ProductItem';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { UPDATE_PRODUCTS } from '../../utils/actions';\nimport { QUERY_PRODUCTS } from '../../utils/queries';\nimport spinner from '../../assets/spinner.gif';\nimport idbPromise from '../../utils/helpers';\n\nfunction ProductList() {\n    const [state, dispatch] = useStoreContext();\n    const { currentCategory } = state;\n    const { loading, data } = useQuery(QUERY_PRODUCTS);\n\n    useEffect(() => {\n        if (data) {\n            dispatch({\n                type: UPDATE_PRODUCTS,\n                products: data.products\n            });\n\n            data.products.forEach((product) => {\n                idbPromise('products', 'put', product);\n            });\n        } else if (!loading) {\n            idbPromise('products', 'get').then((products) => {\n                dispatch({\n                    type: UPDATE_PRODUCTS,\n                    products: products\n                });\n            })\n        }\n    }, [data, loading, dispatch]);\n\n    function filterProducts() {\n        if (!currentCategory) {\n            return state.products;\n        }\n        return state.products.filter(product => product.category._id === currentCategory);\n    }\n\n    return (\n        <div className=\" container\" >\n            {state.products.length ? (\n                <div className=\"row\" >\n                    {filterProducts().map(product => (\n                        <ProductItem\n                            key={product._id}\n                            _id={product._id}\n                            image={product.image}\n                            name={product.name}\n                            price={product.price}\n                            className=\"col-sm\"\n                            id=\"cards\"\n                        />\n                    ))}\n                </div>\n            ) : (\n                <h3> Your cart is empty!</h3>\n            )}\n            {loading ?\n                <img src={spinner} alt=\"loading\" /> : null}\n        </div>\n    );\n}\n\nexport default ProductList;","// CATEGORY MENU\n\nimport React, { useEffect } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { QUERY_CATEGORIES } from '../../utils/queries';\nimport { UPDATE_CATEGORIES, UPDATE_CURRENT_CATEGORY } from '../../utils/actions';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { idbPromise } from '../../utils/helpers';\n\nfunction CategoryMenu({ setCategory }) {\n    const [state, dispatch] = useStoreContext();\n    const { categories } = state;\n    const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\n\n    useEffect(() => {\n        if (categoryData) {\n            dispatch({\n                type: UPDATE_CATEGORIES,\n                categories: categoryData.categories\n            });\n            categoryData.categories.forEach(category => {\n                idbPromise('categories', 'put', category);\n            });\n        } else if (!loading) {\n            idbPromise('categories', 'get').then(categories => {\n                dispatch({\n                    type: UPDATE_CATEGORIES,\n                    categories: categories\n                });\n            });\n        }\n    }, [loading, categoryData, dispatch]);\n\n    const handleClick = id => {\n        dispatch({\n            type: UPDATE_CURRENT_CATEGORY,\n            currentCategory: id\n        });\n    };\n\n    return (\n        <div id=\"categoryButtons\">\n            {categories.map(item => (\n                <button\n                    id=\"catBtn\"\n                    className=\"animate__animated animate__lightSpeedInLeft\"\n                    key={item._id}\n                    onClick={() => {\n                        handleClick(item._id);\n                    }}><h1> {item.name}</h1></button>\n            ))}\n        </div>\n    );\n};\n\nexport default CategoryMenu;","// CART ITEM\r\n\r\nimport React from 'react';\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport { REMOVE_FROM_CART, UPDATE_CART_QUANTITY } from '../../utils/actions';\r\nimport { idbPromise } from '../../utils/helpers';\r\nimport { isTypeExtensionNode } from 'graphql';\r\n\r\nconst CartItem = ({ item }) => {\r\n    const [, dispatch] = useStoreContext();\r\n\r\n    const removeFromCart = item => {\r\n        dispatch({\r\n            type: REMOVE_FROM_CART,\r\n            _id: item._id\r\n        });\r\n        // remove item from indexedDB\r\n        idbPromise('cart', 'delete', { ...item });\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        const value = e.target.value;\r\n\r\n        // if number set to zero, remove item from cart\r\n        if (value === '0') {\r\n            dispatch({\r\n                type: REMOVE_FROM_CART,\r\n                _id: item._id\r\n            });\r\n            idbPromise('cart', 'delete', { ...item });\r\n        } else {\r\n            dispatch({\r\n                type: UPDATE_CART_QUANTITY,\r\n                _id: item._id,\r\n                purchaseQuantity: parseInt(value)\r\n            });\r\n            idbPromise('cart', 'put', { ...item, purchaseQuantity: parseInt(value) });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-row allCart\" >\r\n            <div>\r\n                <img src={`/images/${item.image}`} alt={item.name} id=\"cartImage\" />\r\n            </div>\r\n            <div>\r\n                \r\n                <div className=\"allCart\">{item.name} </div>\r\n                <div className=\"allCart\">${item.price}</div>\r\n                {\r\n                    item.name == \"WebDev 2020-2021 Tank\" || item.name ==\"WebDev 2020-2021 Tshirt\" ?\r\n                    (\r\n                <div className=\"allCart\">Size: {item.size}</div>\r\n                    ) : null\r\n                }\r\n                <div>\r\n                    <span className=\"allCart\">Quantity: </span>\r\n                    <input\r\n                    className=\"allCart\"\r\n                        type=\"number\"\r\n                        placeholder=\"1\"\r\n                        value={item.purchaseQuantity}\r\n                        onChange={onChange} />\r\n                    <span\r\n                        onClick={() => removeFromCart(item)}\r\n                        role=\"img\"\r\n                        aria-label=\"trash\"\r\n                        id=\"trashCan\">\r\n                        🗑️\r\n                </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartItem;","// AUTH\n\nimport decode from 'jwt-decode';\n\nclass AuthService {\n    getProfile() {\n    return decode(this.getToken());\n    }\n\n    loggedIn(){\n        const token= this.getToken();\n        return !!token && !this.isTokenExpired(token);\n    }\n\n    isTokenExpired(token) {\n        try{\n            const decoded = decode(token);\n            if(decoded.exp < Date.now()/ 1000) {\n                return true;\n            } else return false;\n        } catch (err) {\n            return false;\n        }\n    }\n\n    getToken() {\n        return localStorage.getItem('id_token');\n    }\n    \n    login(idToken) {\n        localStorage.setItem('id_token', idToken);\n        window.location.assign('/');\n    }\n\n    logout(){\n        localStorage.removeItem('id_token');\n        // redirect to homepage and reset the state of th application\n        window.location.assign('/');\n    }\n}\n\nexport default new AuthService();","// CART\r\n\r\nimport React, { useEffect } from 'react';\r\nimport CartItem from '../CartItem';\r\nimport Auth from '../../utils/auth';\r\nimport './styles.css';\r\n// useLazyQuery will only run when calles upon\r\nimport { useLazyQuery } from '@apollo/react-hooks'\r\n// was trying to change the cart image below\r\n// import cartimg from '../../assets/fastcart.png'\r\n// this will establish a state variable\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport { TOGGLE_CART, ADD_MULTIPLE_TO_CART } from '../../utils/actions';\r\nimport { idbPromise } from '../../utils/helpers';\r\nimport { QUERY_CHECKOUT } from '../../utils/queries';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\n\r\n// this will perform the checkout redirect\r\nconst stripePromise = loadStripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\r\n\r\n\r\nconst Cart = () => {\r\n\r\n    const [state, dispatch] = useStoreContext();\r\n    // console.log(state);\r\n\r\n    // data will contain the checkout session\r\n    const [getCheckout, { data }] = useLazyQuery(QUERY_CHECKOUT);\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            stripePromise.then((res) => {\r\n                res.redirectToCheckout({ sessionId: data.checkout.session })\r\n            })\r\n        }\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n        async function getCart() {\r\n            const cart = await idbPromise('cart', 'get');\r\n            dispatch({\r\n                type: ADD_MULTIPLE_TO_CART,\r\n                products: [...cart]\r\n            });\r\n        };\r\n        // if nothing in state for the cart, run getCart function to get cart items from objectStore and save to globalState object\r\n        if (!state.cart.length) {\r\n            getCart();\r\n        }\r\n    }, [state.cart.length, dispatch]);\r\n\r\n\r\n    function toggleCart() {\r\n        dispatch({ type: TOGGLE_CART });\r\n    }\r\n\r\n    if (!state.cartOpen) {\r\n        return (\r\n            <div id=\"closedCartBubble\"className=\"cart-closed\" onClick={toggleCart}>\r\n                <span\r\n                    role=\"img\"\r\n                    aria-label=\"trash\">🛒</span>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    function calculateTotal() {\r\n        let sum = 0;\r\n        state.cart.forEach(item => {\r\n            sum += item.price * item.purchaseQuantity;\r\n        });\r\n        return sum.toFixed(2);\r\n    }\r\n\r\n    function submitCheckout() {\r\n        const productIds = [];\r\n        // loop over items in state.cart and add their item._id to productIds array\r\n        state.cart.forEach(item => {\r\n            for (let i = 0; i < item.purchaseQuantity; i++) {\r\n                productIds.push(item._id);\r\n\r\n            }\r\n        });\r\n        getCheckout({\r\n            // the productIds get passed into {data} for const getCheckout method above\r\n            variables: { products: productIds }\r\n        })\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"cart\" id=\"cart\">\r\n            <div className=\"close\" id=\"cartClose\" onClick={toggleCart}>X</div>\r\n            <h2 ><b className=\"allCart\">Shopping Cart</b></h2>\r\n            {state.cart.length ? (\r\n                <div>\r\n                    {state.cart.map(item => (\r\n                        <CartItem key={item._id} item={item} />\r\n                    ))}\r\n                    <div className=\"flex-row space-between\">\r\n                        <strong className=\"allCart\">Total: ${calculateTotal()}</strong>\r\n                        {\r\n                            Auth.loggedIn() ?\r\n                                <button className=\"allCart\" onClick={submitCheckout}>\r\n                                    Checkout\r\n                  </button>\r\n                                :\r\n                                <span>(log in to check out)</span>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <h3>\r\n\r\n                    Your cart is empty! Go add some stuff!\r\n                </h3>\r\n            )}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Cart;\r\n","// HOME PAGE\r\n\r\nimport React, { useState } from 'react';\r\nimport ProductList from '../components/ProductList';\r\nimport CategoryMenu from '../components/CategoryMenu';\r\nimport Cart from '../components/Cart';\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div className=\"container\">\r\n            {/* <CategoryMenu /> */}\r\n            <ProductList />\r\n            <Cart />\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { QUERY_PRODUCTS } from '../utils/queries';\r\nimport spinner from '../assets/spinner.gif'\r\nimport { useStoreContext } from '../utils/GlobalState';\r\nimport Cart from '../components/Cart';\r\nimport { idbPromise } from '../utils/helpers';\r\n\r\nimport {\r\n    REMOVE_FROM_CART,\r\n    UPDATE_CART_QUANTITY,\r\n    ADD_TO_CART,\r\n    UPDATE_PRODUCTS\r\n} from '../utils/actions';\r\n\r\nfunction Detail() {\r\n    const [state, dispatch] = useStoreContext();\r\n    const { id } = useParams();\r\n    const [currentProduct, setCurrentProduct] = useState({});\r\n    const { loading, data } = useQuery(QUERY_PRODUCTS);\r\n    const { products, cart } = state;\r\n    const [value, setValue] = useState('');\r\n\r\n    const addToCart = () => {\r\n        const itemInCart = cart.find((cartItem) => cartItem._id === id);\r\n\r\n        if (itemInCart) {\r\n            dispatch({\r\n                type: UPDATE_CART_QUANTITY,\r\n                _id: id,\r\n\r\n                purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\r\n            });\r\n\r\n            idbPromise('cart', 'put', {\r\n                ...itemInCart,\r\n                purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\r\n            })\r\n        } else {\r\n            dispatch({\r\n                type: ADD_TO_CART,\r\n\r\n                product: { ...currentProduct, purchaseQuantity: 1, size: value, }\r\n            });\r\n            idbPromise('cart', 'put', { ...currentProduct, purchaseQuantity: 1 });\r\n        };\r\n    };\r\n\r\n    const removeFromCart = () => {\r\n        dispatch({\r\n            type: REMOVE_FROM_CART,\r\n            _id: currentProduct._id\r\n        });\r\n        idbPromise('cart', 'delete', { ...currentProduct });\r\n    };\r\n    useEffect(() => {\r\n        // products already in globalStore\r\n        if (products.length) {\r\n            console.log((products.find(product => product._id === id)))\r\n            setCurrentProduct(products.find(product => product._id === id));\r\n\r\n            // retrieved from server\r\n        } else if (data) {\r\n\r\n            dispatch({\r\n                type: UPDATE_PRODUCTS,\r\n                products: data.products\r\n            });\r\n\r\n            data.products.forEach(product => {\r\n                idbPromise('products', 'put', product);\r\n            });\r\n\r\n\r\n            // get cache from idb\r\n        } else if (!loading) {\r\n            idbPromise('products', 'get').then((products) => {\r\n                dispatch({\r\n                    type: UPDATE_PRODUCTS,\r\n                    products: products\r\n                });\r\n            });\r\n        }\r\n    }, [products, data, loading, dispatch, id]);\r\n\r\n\r\n    const handleSelect = (e) => {\r\n        console.log(e.target.value);\r\n\r\n        setValue(e.target.value);\r\n\r\n\r\n    }\r\n    \r\n\r\n\r\n    return (\r\n        <>\r\n            {currentProduct ? (\r\n                <div className=\"container-fluid\">\r\n                    <Link to=\"/\" id=\"backLink\">\r\n                        <span id=\"back\"> ← Back to Products</span>\r\n                </Link>\r\n                <div className=\"detail-row\">\r\n                    <div className= \"col-5 small-container\">\r\n                    <img src={`/images/${currentProduct.image}`} alt={currentProduct.name} id=\"detailImage\" className=\"animate__animated animate__backInDown\" width=\"100%\"/>\r\n                        \r\n                    </div>\r\n                    <div className= \"col-5\">\r\n                        <h1 className= \"animate__animated animate__lightSpeedInRight\">{currentProduct.name}</h1>\r\n                        <h3>Price: ${currentProduct.price}{\" \"}</h3>\r\n                    <div className=\"row justify-content-start py-4\">\r\n                        \r\n                    {\r\n                        currentProduct._id == \"60ae9865152ba173c0ee0898\" || currentProduct._id == \"60ae9865152ba173c0ee0899\" ?\r\n                            (\r\n                                <div>\r\n                                    <select className=\"form-select dropdown\" aria-label=\"Default select example\" onChange={handleSelect} id=\"dropdown\">\r\n                                        <option>Select Size</option>\r\n                                        <option value=\"Small\">Small</option>\r\n                                        <option value=\"Medium\">Medium</option>\r\n                                        <option value=\"Large\">Large</option>\r\n                                        <option value=\"XL\">XL</option>\r\n                                    </select>\r\n                                </div>\r\n                            ) : null\r\n                    }\r\n                    <div className=\"px-4\">\r\n                    <button className=\"hvr-pulse-grow\" id=\"addToCartBtn\" onClick={addToCart}>\r\n                            Add To Cart\r\n                        </button>\r\n                        </div>\r\n                        </div>\r\n                        \r\n                    <div>\r\n                        <h3>Product Details:</h3>\r\n                    <p>{currentProduct.description}</p>\r\n                    </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n\r\n            ) : null}\r\n            {\r\n                loading ? <img src={spinner} alt=\"loading spinner\" /> : null\r\n            }\r\n            <Cart />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Detail;\r\n","// JUMBOTRON\n\nimport React from 'react';\n\nfunction Jumbotron({ children }) {\n    return (\n        <div\n            style={{ height: 560, clear: \"both\", paddingTop: 120, textAlign: \"center\" }}>\n            {children}\n        </div>\n    );\n}\n\n\n\nexport default Jumbotron;","// NO MATCH\n\nimport React from 'react';\nimport Jumbotron from '../components/Jumbotron';\n\n\nconst NoMatch = () => {\n    return (\n        <div>\n            <Jumbotron>\n                <h2> 4040 Page Not Found!</h2>\n                <h1>\n                    <span role=\"img\" aria-label=\"Rolling eyes\">🙄</span>\n                </h1>\n            </Jumbotron>\n        </div>\n    );\n};\n\nexport default NoMatch;","// MUTATIONS\n\nimport gql from 'graphql-tag';\n\nexport const LOGIN = gql`\n    mutation login($email: String!, $password: String!) {\n        login(email: $email, password: $password){\n            token\n            user{ \n                _id\n            }\n        }\n    }\n`;\n\nexport const ADD_ORDER = gql `\n    mutation addOrder($products: [ID]!){\n        addOrder(products: $products) {\n            purchaseDate\n            products {\n                _id\n                name \n                description\n                price\n                quantity\n                category {\n                    name\n                }\n            }\n        }\n    }\n`;\n\nexport const ADD_USER = gql`\n    mutation addUser($firstName: String!, $lastName: String!, $email: String!, $password: String!){\n        addUser(firstName: $firstName, lastName: $lastName, email: $email, password: $password){\n            token\n            user{\n                _id\n            }\n        }\n    }\n`;","// LOGIN\n\nimport React, { useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Link } from 'react-router-dom';\nimport { LOGIN } from '../utils/mutations';\nimport Auth from '../utils/auth';\n\n\nfunction Login(props) {\n    const [formState, setFormState] = useState({ emai: '', password: '' });\n    const [login, { error }] = useMutation(LOGIN);\n\n    const handleFormSubmit = async event => {\n        event.preventDefault();\n        try {\n            const mutationResponse = await login({ variables: { email: formState.email, password: formState.password } });\n            const token = mutationResponse.data.login.token;\n            Auth.login(token);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    const handleChange = event => {\n        const { name, value } = event.target;\n        setFormState({\n            ...formState, [name]: value\n        });\n    };\n\n    return (\n        <>\n            {/* <Link to=\"/signup\">\n                ← Go to Signup\n            </Link> */}\n            <div className=\"container my-1\" id=\"signCard\">\n                <div className=\"card-header\">\n                    <h2> Login</h2>\n                </div>\n                <div className=\"card-body\">\n                    <form onSubmit={handleFormSubmit}>\n                        <div className=\"row my-2\" id=\"signup-form\">\n                            <label htmlFor=\"email\">Email address:</label>\n                            <input\n                                // placeholder=\"name@email.com\"\n                                className=\"input\"\n                                name=\"email\"\n                                type=\"email\"\n                                id=\"email\"\n                                onChange={handleChange} />\n                        </div>\n                        <div className=\"row my-2\" id=\"signup-form\">\n                            <label htmlFor=\"pwd\">Password: </label>\n                            <input\n                                // placeholder=\"********\"\n                                className=\"input\"\n                                name=\"password\"\n                                type=\"password\"\n                                id=\"password\"\n                                onChange={handleChange} />\n                        </div>\n                        {\n                            error ?\n                                <div>\n                                    <p className=\"error-text\">The provided credentials are incorrect</p>\n                                </div> : null\n                        }\n                        <div className=\"flex-row flex-end\">\n                            <button type=\"submit\" id=\"submitBtn\">\n                                Submit\n                    </button>\n                        </div>\n                        <div>\n\n                        </div>\n                    </form>\n                </div>\n            </div>\n   \n        </>\n    );\n};\n\nexport default Login;","// SIGNUP\n\nimport React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {useMutation} from '@apollo/react-hooks';\nimport Auth from '../utils/auth';\nimport {ADD_USER} from '../utils/mutations';\n// import Jumbotron from '../components/Jumbotron'\n\nfunction Signup(props) {\n    const [formState, setFormState] = useState({email: '', password: ''});\n    const [addUser] = useMutation(ADD_USER);\n\n    const handleFormSubmit = async event => {\n        event.preventDefault();\n        const mutationResponse = await addUser({\n            variables: {\n                email: formState.email, password: formState.password,\n                firstName: formState.firstName, lastName: formState.lastName\n            }\n        });\n        const token= mutationResponse.data.addUser.token;\n        Auth.login(token);\n    };\n\n    const handleChange = event => {\n        const {name, value} = event.target;\n        setFormState({\n            ...formState, [name]: value\n        });\n    };\n\n    return (\n        <>\n            {/* <Link to='/login'>\n            ← Go to Login\n            </Link> */}\n        <div className=\"container my-1\"id=\"signCard\">\n           \n            <div className=\"card-header\">\n            <h2>Signup</h2>\n            </div>\n            <div className=\"card-body\">\n            <form onSubmit={handleFormSubmit}>\n                <div className=\"row  my-2\" id=\"signup-form\">\n                    <label htmlFor=\"firstName\">First Name: </label>\n                    <input\n                    // placeholder=\"First\"\n                    className=\"input\"\n                    name=\"firstName\"\n                    type=\"firstName\"\n                    id=\"firstName\"\n                    onChange={handleChange} />\n                </div>\n                <div className=\"row my-2\" id=\"signup-form\">\n                    <label htmlFor=\"lastName\">Last Name: </label>\n                    <input\n                    // placeholder=\"Last\"\n                    className=\"input\"\n                    name=\"lastName\"\n                    type=\"lastName\"\n                    id=\"lastName\"\n                    onChange={handleChange} />\n                </div>\n                <div className=\"row  my-2\" id=\"signup-form\">\n                    <label htmlFor=\"email\">Email: </label>\n                    <input\n                    // placeholder=\"name@email.com\"\n                    className=\"input\"\n                    name=\"email\"\n                    type=\"email\"\n                    id=\"email\"\n                    onChange={handleChange} />\n                </div>\n                <div className=\"row  my-2\" id=\"signup-form\">\n                    <label htmlFor=\"firstName\">Password: </label>\n                    <input\n                    // placeholder=\"********\"\n                    className=\"input\"\n                    name=\"password\"\n                    type=\"password\"\n                    id=\"pwd\"\n                    onChange={handleChange} />\n                </div>\n                <div className=\"row flex-end\">\n                    <button type=\"submit\" id=\"submitBtn\">\n                        Submit\n                    </button>\n                </div>\n            </form>\n            </div>\n        </div>\n\n        </>\n        );\n};\n\nexport default Signup;","export default __webpack_public_path__ + \"static/media/WebDev logo.1396b5a9.png\";","import React, { useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { QUERY_CATEGORIES } from '../../utils/queries';\r\nimport {  UPDATE_CATEGORIES, UPDATE_CURRENT_CATEGORY } from '../../utils/actions';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\n// NAVBAR\r\n\r\nimport { idbPromise } from '../../utils/helpers';\r\nimport Auth from '../../utils/auth';\r\nimport icon from '../../assets/WebDev logo.png'\r\n\r\n\r\n//Scroll Feature\r\nfunction Nav({ setCategory }) {\r\n    const [state, dispatch] = useStoreContext();\r\n    const { categories } = state;\r\n    const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\r\n    \r\n   // ON Scroll feature for Nav Bar\r\n    window.onscroll = function(){\r\n        scrollFn()\r\n    }\r\n    function scrollFn() {\r\n        if(document.body.scrollTop > 50 || document.documentElement.scrollTop > 75) {\r\n            document.getElementById(\"navBar\").setAttribute(\"class\", \"endState\")\r\n            document.getElementById(\"navBarItems\").setAttribute(\"class\", \"displaynone\")\r\n            document.getElementById(\"navTitle\").setAttribute(\"class\", \"displayhidden\")\r\n            document.getElementById(\"navGreeting\").setAttribute(\"class\", \"displayhidden\")\r\n            document.getElementById(\"holder\").setAttribute(\"class\", \"displayhidden\")\r\n            document.getElementById(\"closedCartBubble\").setAttribute(\"class\", \"cart-closed2\")\r\n        }else {\r\n            document.getElementById(\"navBar\").setAttribute(\"class\", \"initialState\")\r\n            document.getElementById(\"navBarItems\").setAttribute(\"class\", \"navBarItems\")\r\n            document.getElementById(\"navTitle\").setAttribute(\"class\", \"navTitle\")\r\n            document.getElementById(\"closedCartBubble\").setAttribute(\"class\", \"cart-closed \")\r\n            // document.getElementById(\"navGreeting\").setAttribute(\"class\", \"greeting\")\r\n        }\r\n    }\r\n    //  Use Effect for Categories Filter to Display on Nav \r\n    useEffect(() => {\r\n        if (categoryData) {\r\n            dispatch({\r\n                type: UPDATE_CATEGORIES,\r\n                categories: categoryData.categories\r\n            });\r\n            categoryData.categories.forEach(category => {\r\n                idbPromise('categories', 'put', category);\r\n            });\r\n        } else if (!loading) {\r\n            idbPromise('categories', 'get').then(categories => {\r\n                dispatch({\r\n                    type: UPDATE_CATEGORIES,\r\n                    categories: categories\r\n                });\r\n            });\r\n        }\r\n    }, [loading, categoryData, dispatch]);\r\n    \r\n    //Updates Filters on Products Displayed\r\n    const handleClick = id => {\r\n        dispatch({\r\n            type: UPDATE_CURRENT_CATEGORY,\r\n            currentCategory: id\r\n        });\r\n    };\r\n\r\n    //Resets all the Filters after its Click on\r\n    const resetCat=()=>{\r\n        dispatch({\r\n            type:UPDATE_CURRENT_CATEGORY,\r\n            currentCategory: null\r\n        });\r\n    };\r\n\r\n    //Opens Nav If its in the closed postion ONLY!\r\n    function isNavOpen(){\r\n        var test = document.getElementById(\"navBar\")\r\n\r\n        if(test.classList.contains(\"endState\")){\r\n            console.log(\"closed\")\r\n            document.getElementById(\"navBar\").setAttribute(\"class\", \"initialState2\")\r\n            document.getElementById(\"navBarItems\").setAttribute(\"class\", \"navBarItems\")\r\n        }\r\n    }\r\n\r\n    //  Generates the NavBar LoggedIn Items Or not if not LoggedIN\r\n    function showNavigation() {\r\n        if (Auth.loggedIn()) {\r\n            return (\r\n                <div id=\"navBarItems\" className=\"navBarItems\">\r\n                    {/* Maps the Categories in the Nav Bar */}\r\n                     {categories.map(item => (\r\n                     <button className=\"navButton\" key={item._id}onClick={() => {handleClick(item._id);}}> {item.name}</button>))}\r\n                     {/* Link to Order History and Logout */}\r\n                    <Link className=\"navButton\" to=\"/orderHistory\">\r\n                        <button className=\"navButton\">   Order History</button>\r\n                        </Link>\r\n                        <button className=\"navButton\" href=\"/\" onClick={() => Auth.logout()}>\r\n                            Logout\r\n                        </button>\r\n                </div>\r\n            );\r\n        } else {\r\n            //Else If not LoggedIn then...\r\n            return (\r\n                <div id=\"navBarItems\" className=\"navBarItems\">\r\n                     {/* Maps the Categories in the Nav Bar */}\r\n                     {categories.map(item => (\r\n                <button className=\"navButton\" \r\n                    key={item._id}\r\n                    onClick={() => {\r\n                        handleClick(item._id);\r\n                    }}> {item.name}</button>\r\n            ))}\r\n                     {/* Link to Signup and Login */}\r\n                    <button className=\"navButton\">\r\n                        <Link className=\"navButton\"to=\"/signup\">\r\n                            Signup\r\n                        </Link>\r\n                    </button>\r\n                    <button className=\"navButton\">\r\n                        <Link className=\"navButton\" to=\"/login\">\r\n                            Login\r\n                        </Link>\r\n                    </button>\r\n                   \r\n                </div>\r\n            );\r\n        }\r\n    }\r\n    // Main Body Returned\r\n    return (\r\n        <header id=\"navHeader\" className=\"navHeader\">\r\n            {/* Title Bar and Logo */}\r\n            <div id=\"navTitle\"className=\"navTitle\">\r\n                <Link to=\"/\" \r\n                    onClick={() => {\r\n                        resetCat();\r\n                    }} className=\"navLogo\">\r\n                    <img src={icon} className=\"roundicon\" alt=\"web dev logo\"id=\"icon\"></img>\r\n                    <span className=\"title\">2020-2021 WebDev Gifts</span>\r\n                </Link>\r\n            </div>\r\n            {/* End OF Title Bar */}\r\n            {/* Nav Bar Items and If/Else Code from Above */}\r\n            <div id=\"navBar\" onClick={()=>{isNavOpen()}} className=\"initialState\">\r\n                {showNavigation()}\r\n            </div>\r\n            {/* Greeting Below */}\r\n        <div id=\"holder\" className=\"holder\">\r\n            <p id=\"navGreeting\" className=\"greeting\">Congrats! It was a crazy 6 Months but you are now a Full Stack Developer.\r\n            <br></br> Now get yourself some new gear to sport your accomplishments.</p>\r\n        </div>\r\n        </header>\r\n    );\r\n}\r\n\r\n\r\nexport default Nav;","// SUCCESS\n\nimport React, { useEffect } from 'react';\nimport Jumbotron from '../components/Jumbotron';\nimport { ADD_ORDER } from '../utils/mutations'\nimport { idbPromise } from '../utils/helpers';\nimport { useMutation } from '@apollo/react-hooks';\n\nfunction Success() {\n    const [addOrder] = useMutation(ADD_ORDER);\n\n    useEffect(() => {\n        async function saveOrder() {\n            const cart = await idbPromise('cart', 'get');\n            const products = cart.map(item => item._id);\n\n            if (products.length) {\n                const { data } = await addOrder({ variables: { products } });\n                const productData = data.addOrder.products;\n\n                // empty the cart on successful order\n                productData.forEach((item) => {\n                    idbPromise('cart', 'delete', item)\n                });\n            }\n\n            // send to homepage after 3 seconds\n            setTimeout(() => {\n                window.location.assign('/');\n            }, 5000);\n        }\n        saveOrder();\n    }, [addOrder]);\n\n    return (\n        <div>\n            <Jumbotron>\n                <div className=\"successBackground\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <h1>Success!</h1>\n                        </div>\n                        <div className=\"row\">\n                            <h2>Thank you for your purchase!</h2>\n                        </div>\n                        <div className=\"row\">\n                            <h2>You will now be redirected to the home page</h2>\n                        </div>\n                    </div>\n                </div>\n\n            </Jumbotron>\n        </div>\n    );\n};\n\n\nexport default Success;","\r\n// import React, { useEffect } from 'react';\r\n// import CartItem from '../components/CartItem';\r\n// import Auth from '../utils/auth';\r\n// import { Link } from \"react-router-dom\";\r\n// import { useQuery } from '@apollo/react-hooks';\r\n// import { QUERY_USER } from \"../utils/queries\";\r\n// import { useLazyQuery } from '@apollo/react-hooks'\r\n// import { TOGGLE_CART, ADD_MULTIPLE_TO_CART } from '../utils/actions';\r\n// import { idbPromise } from '../utils/helpers';\r\n// import { QUERY_CHECKOUT } from '../utils/queries';\r\n// import { loadStripe } from '@stripe/stripe-js';\r\n// import { useStoreContext } from '../utils/GlobalState';\r\n// const stripePromise = loadStripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\r\nconst Shipping = () => {\r\n\r\n//     const [state, dispatch] = useStoreContext();\r\n//     const [getCheckout, { data }] = useLazyQuery(QUERY_CHECKOUT);\r\n//     useEffect(() => {\r\n//         if (data) {\r\n//             stripePromise.then((res) => {\r\n//                 res.redirectToCheckout({ sessionId: data.checkout.session })\r\n//             })\r\n//         }\r\n//     }, [data])\r\n\r\n//     useEffect(() => {\r\n//         async function getCart() {\r\n//             const cart = await idbPromise('cart', 'get');\r\n//             dispatch({\r\n//                 type: ADD_MULTIPLE_TO_CART,\r\n//                 products: [...cart]\r\n//             });\r\n//         };\r\n//         // if nothing in state for the cart, run getCart function to get cart items from objectStore and save to globalState object\r\n//         if (!state.cart.length) {\r\n//             getCart();\r\n//         }\r\n//     }, [state.cart.length, dispatch]);\r\n\r\n//     function calculateTotal() {\r\n//         let sum = 0;\r\n//         state.cart.forEach(item => {\r\n//             sum += item.price * item.purchaseQuantity;\r\n//         });\r\n//         return sum.toFixed(2);\r\n//     }\r\n\r\n//     function submitCheckout() {\r\n//         const productIds = [];\r\n//         // loop over items in state.cart and add their item._id to productIds array\r\n//         state.cart.forEach(item => {\r\n//             for (let i = 0; i < item.purchaseQuantity; i++) {\r\n//                 productIds.push(item._id);\r\n\r\n//             }\r\n//         });\r\n//         getCheckout({\r\n//             // the productIds get passed into {data} for const getCheckout method above\r\n//             variables: { products: productIds }\r\n//         })\r\n//     }\r\n\r\n\r\n\r\n//     return (\r\n// <div class=\"row\">\r\n//   <div class=\"col-75\">\r\n//     <div class=\"container\">\r\n//       <form action=\"/action_page.php\">\r\n\r\n//         <div class=\"row\">\r\n//           <div class=\"col-50\">\r\n//             <h3>Billing Address</h3>\r\n//             <label for=\"fname\"><i class=\"fa fa-user\"></i> Full Name</label>\r\n//             <input type=\"text\" id=\"fname\" name=\"firstname\" placeholder=\"John M. Doe\"></input>\r\n//             <label for=\"email\"><i class=\"fa fa-envelope\"></i> Email</label>\r\n//             <input type=\"text\" id=\"email\" name=\"email\" placeholder=\"john@example.com\"></input>\r\n//             <label for=\"adr\"><i class=\"fa fa-address-card-o\"></i> Address</label>\r\n//             <input type=\"text\" id=\"adr\" name=\"address\" placeholder=\"542 W. 15th Street\"></input>\r\n//             <label for=\"city\"><i class=\"fa fa-institution\"></i> City</label>\r\n//             <input type=\"text\" id=\"city\" name=\"city\" placeholder=\"New York\"></input>\r\n\r\n//             <div class=\"row\">\r\n//               <div class=\"col-50\">\r\n//                 <label for=\"state\">State</label>\r\n//                 <input type=\"text\" id=\"state\" name=\"state\" placeholder=\"NY\"></input>\r\n//               </div>\r\n//               <div class=\"col-50\">\r\n//                 <label for=\"zip\">Zip</label>\r\n//                 <input type=\"text\" id=\"zip\" name=\"zip\" placeholder=\"10001\"></input>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n\r\n//           <div class=\"col-50\">\r\n//             <h3>Payment</h3>\r\n//             <label for=\"fname\">Accepted Cards</label>\r\n//             <div class=\"icon-container\">\r\n//               <i class=\"fa fa-cc-visa\" style=\"color:navy;\"></i>\r\n//               <i class=\"fa fa-cc-amex\" style=\"color:blue;\"></i>\r\n//               <i class=\"fa fa-cc-mastercard\" style=\"color:red;\"></i>\r\n//               <i class=\"fa fa-cc-discover\" style=\"color:orange;\"></i>\r\n//             </div>\r\n//             <label for=\"cname\">Name on Card</label>\r\n//             <input type=\"text\" id=\"cname\" name=\"cardname\" placeholder=\"John More Doe\"></input>\r\n//             <label for=\"ccnum\">Credit card number</label>\r\n//             <input type=\"text\" id=\"ccnum\" name=\"cardnumber\" placeholder=\"1111-2222-3333-4444\"></input>\r\n//             <label for=\"expmonth\">Exp Month</label>\r\n//             <input type=\"text\" id=\"expmonth\" name=\"expmonth\" placeholder=\"September\"></input>\r\n\r\n//             <div class=\"row\">\r\n//               <div class=\"col-50\">\r\n//                 <label for=\"expyear\">Exp Year</label>\r\n//                 <input type=\"text\" id=\"expyear\" name=\"expyear\" placeholder=\"2018\"></input>\r\n//               </div>\r\n//               <div class=\"col-50\">\r\n//                 <label for=\"cvv\">CVV</label>\r\n//                 <input type=\"text\" id=\"cvv\" name=\"cvv\" placeholder=\"352\"></input>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n\r\n//         </div>\r\n//         <label>\r\n//           <input type=\"checkbox\" checked=\"checked\" name=\"sameadr\"> Shipping address same as billing</input>\r\n//         </label>\r\n//         <input type=\"submit\" value=\"Continue to checkout\" class=\"btn\"></input>\r\n//       </form>\r\n//     </div>\r\n//   </div>\r\n\r\n//   <div class=\"col-25\">\r\n//     <div class=\"container\">\r\n//       <h4>Cart\r\n//         <span class=\"price\" style=\"color:black\">\r\n//           <i class=\"fa fa-shopping-cart\"></i>\r\n//           <b>4</b>\r\n//         </span>\r\n//       </h4>\r\n//       <p><a href=\"#\">Product 1</a> <span class=\"price\">$15</span></p>\r\n//       <p><a href=\"#\">Product 2</a> <span class=\"price\">$5</span></p>\r\n//       <p><a href=\"#\">Product 3</a> <span class=\"price\">$8</span></p>\r\n//       <p><a href=\"#\">Product 4</a> <span class=\"price\">$2</span></p>\r\n      \r\n//       <p>Total <span class=\"price\" style=\"color:black\"><b>$30</b></span></p>\r\n//     </div>\r\n//   </div>\r\n// </div>\r\n\r\n\r\n//     )\r\n};\r\n\r\nexport default Shipping;\r\n","import React from 'react'\nimport icon from '../../assets/logo192.png'\n\n\nfunction Footer() {\n    return (\n        <footer id=\"links\" className=\"container\">\n\n            <div  >\n                <div className=\"row\" id=\"footer\">\n\n                    <h3>&#169; 2021 Created by Adam Ramos, John Halley, and Mark Peterson</h3>\n                    \n                   \n\n                \n                </div>\n\n                <div className=\"row\" id=\"react\">\n                    <span>Built with React<a href=\"https://reactjs.org/\" target=\"_blank\" rel=\"noreferrer\"><img src={icon} alt=\"react icon\" style={{ width: \"2rem\" }} /> </a></span>\n                </div>\n            </div>\n\n        </footer>\n\n    )\n\n}\n\nexport default Footer;","export default \"data:image/png;base64,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\"","// ORDER HISTORY\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useQuery } from '@apollo/react-hooks';\nimport { QUERY_USER } from \"../utils/queries\";\n\nfunction OrderHistory() {\n  const { data } = useQuery(QUERY_USER);\n  let user;\n\n  if (data) {\n    user = data.user;\n  }\n\n  return (\n    <>\n      <div className=\"container my-1\">\n        <Link to=\"/\">\n          ← Back to Products\n          </Link>\n\n        {user ? (\n          <>\n            <h2>Order History for {user.firstName} {user.lastName}</h2>\n            {user.orders.map((order) => (\n              <div key={order._id} className=\"my-2\">\n                <h3>{new Date(parseInt(order.purchaseDate)).toLocaleDateString()}</h3>\n                <div className=\"flex-row\">\n                  {order.products.map(({ _id, image, name, price }, index) => (\n                    <div key={index} className=\"card px-1 py-1 col-md-3\">\n                      <Link to={`/products/${_id}`}>\n                        <img\n                          alt={name}\n                          id=\"cardImage\"\n                          src={`/images/${image}`}\n                        />\n                        <p>{name}</p>\n                      </Link>\n                      <div>\n                        <span>${price}</span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </>\n        ) : null}\n\n      </div>\n\n    </>)\n\n};\n\nexport default OrderHistory;\n","// APP \r\n\r\nimport React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { ApolloProvider } from '@apollo/react-hooks';\r\nimport ApolloClient from 'apollo-boost';\r\nimport Home from './pages/Home';\r\nimport Detail from './pages/Detail';\r\nimport NoMatch from './pages/NoMatch';\r\nimport Login from './pages/Login';\r\nimport Signup from './pages/Signup';\r\nimport Nav from './components/Nav';\r\nimport Success from './pages/Success';\r\nimport Shipping from './pages/Shipping';\r\n\r\nimport Footer from './components/Footer';\r\nimport { StoreProvider } from './utils/GlobalState';\r\nimport OrderHistory from './pages/OrderHistory';\r\n\r\n\r\nconst client = new ApolloClient({\r\n  request: (operation) => {\r\n    const token = localStorage.getItem('id_token');\r\n    operation.setContext({\r\n      headers: {\r\n        authorization: token ? `Bearer ${token}` : ''\r\n      }\r\n    })\r\n  },\r\n  uri: '/graphql',\r\n})\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n\r\n      <Router>\r\n        <div>\r\n          <StoreProvider>\r\n            <Nav />\r\n         \r\n            <Switch>\r\n              <Route exact path=\"/\" component={Home} />\r\n              <Route exact path=\"/login\" component={Login} />\r\n              <Route exact path=\"/signup\" component={Signup} />\r\n              <Route exact path=\"/success\" component={Success} />\r\n              <Route exact path=\"/orderHistory\" component={OrderHistory} />\r\n              <Route exact path=\"/products/:id\" component={Detail} />\r\n              <Route exact path=\"/shipping\" component={Shipping} />\r\n              <Route component={NoMatch} />\r\n            </Switch>\r\n          </StoreProvider>\r\n          <Footer />\r\n        </div>\r\n      </Router>\r\n\r\n    </ApolloProvider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (\n    process.env.NODE_ENV === 'production' &&\n    'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\nserviceWorker.register();\n"],"sourceRoot":""}